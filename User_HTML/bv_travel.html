<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BondVoyage â”‚ Travel</title>
    <link rel="stylesheet" href="../CSS/bv_travel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="../Images/favicon-32x32.png" type="image/png">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <img src="../Images/bv_logo.png" alt="Logo" class="logo-img">
            </div>
            <ul class="menu">
                <li><a href="../User_HTML/bv_home.html"><img src="../Images/bv_home.png" alt="Home Icon"><span>Home</span></a></li>
                <li class="active"><a href="../User_HTML/bv_travel.html"><img src="../Images/bv_travel.png" alt="Travel Icon"><span>Travel</span></a></li>
                <li><a href="../User_HTML/bv_weather.html"><img src="../Images/bv_weather.png" alt="Weather Icon"><span>Weather</span></a></li>
                <li><a href="../User_HTML/bv_translate.html"><img src="../Images/bv_translate.png" alt="Translate Icon"><span>Translate</span></a></li>
                <li><a href="../User_HTML/bv_more.html"><img src="../Images/bv_more.png" alt="More Icon"><span>More</span></a></li>
            </ul>            
        </nav>
        <main class="content">
            <img src="../Images/travel_title.png" alt="Travel Title" class="travel-img">
            <div class="travel-container" style="margin-bottom: 20px;">
                <h1>My Travels</h1>
                <div class="travel-widgets">
                    
                    <div class="travel-widget add-travel" id="add-travel">
                        <i class="fa fa-plus"></i>
                        <span>Add Travel</span>
                    </div>
                    
                    <div class="modal" id="add-travel-modal" style="display: none;">
                        <div class="modal-content">
                            <span class="close-btn" id="close-modal-btn">&times;</span>
                            <h3>Select Option</h3>
                            <button id="create-travel-btn">Add a New Travel</button>
                            <button id="join-travel-btn">Join with a Code</button>
                        </div>
                    </div>
                    
                    <!-- Modal for Join with Code -->
                    <div class="modal" id="join-travel-modal" style="display: none;">
                        <div class="modal-content">
                            <span class="close-btn" id="close-modal-btn">&times;</span> <!-- Close button -->
                            <h3>Join a Travel</h3>
                            
                            <div id="join-code-modal">
                                <h4>Enter Share Code</h4>
                                <input type="text" id="share-code-input" placeholder="Enter Share Code">
                                <button id="submit-share-code-btn">Join Travel</button>
                                <span id="join-error" style="color: red; display: none;">Invalid Share Code</span>
                            </div>
                        </div>
                    </div>

                    <!-- Modal Form for Adding New Travel -->
                    <div class="modal" id="new-travel-modal" style="display: none;">
                        <div class="modal-content">
                            <h3>Create a New Travel</h3>
                            <form id="new-travel-form">
                                <label for="travel-name">Travel Name:</label>
                                <input type="text" id="travel-name" name="travel_name" required placeholder="Enter travel name">
                                
                                <label for="share-code">Share Code:</label>
                                <input type="text" id="share-code" name="share_code" readonly>
                                
                                <button type="submit">Create Travel</button>
                                <button type="button" id="cancel-travel-btn">Cancel</button>
                            </form>
                        </div>
                    </div>

                    <div id="edit-travel-modal" class="modal">
                        <div class="modal-content">
                            <h3>Edit Travel Name</h3>
                            <form id="edit-travel-form">
                                <input type="text" id="edit-travel-name" name="travel_name" required>
                                <input type="hidden" id="edit-travel-id">
                                <button type="submit">Save</button>
                                <button type="button" onclick="document.getElementById('edit-travel-modal').style.display='none'">Cancel</button>
                            </form>
                        </div>
                    </div>
                    
                    <div id="confirmation-modal" class="modal">
                        <div class="modal-content">
                            <h3>Are you sure you want to delete this travel?</h3>
                            <div class="modal-actions">
                                <button id="confirm-delete-btn">Yes, Delete</button>
                                <button id="cancel-delete-btn">Cancel</button>
                            </div>
                        </div>
                    </div>

                    <div id="share-code-modal" class="modal">
                        <div class="modal-content">
                            <span id="close-share-code-modal" class="close">&times;</span>
                            <h2>Share Code</h2>
                            <div class="share-code-container">
                                <p id="share-code-display"></p>
                                <button id="copy-share-code-btn" class="copy-btn">
                                    <i class="fa fa-clipboard"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="travel-container">
                <h1 style="font-size: 48px;">Standard Travels and Itineraries by 4B's Travel and Tours</h1>
                    <div id="itinerary-buttons" class="button-grid"></div>
                        <!-- Buttons will be dynamically inserted here -->
                    </div>
                </div>
            </div>
            <div id="itinerary-modal" class="modal2">
                <div id="modal-content" class="modal-content">
                    <!-- Modal content will be populated here -->
                    <button id="modal-close" class="modal-close">&times;</button> <!-- Close button with times symbol -->
                </div>
            </div>
        </main>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                // Get the current URL path
                const currentPath = window.location.pathname;
    
                // Select all <a> elements in the sidebar
                const menuLinks = document.querySelectorAll('.menu a');
    
                // Loop through the links and compare their href with the current path
                menuLinks.forEach(link => {
                    if (link.getAttribute('href') === currentPath) {
                        // Add the active class to the parent <li>
                        link.parentElement.classList.add('active');
                    }
                });
            });
        </script>

    <script src="../JS/bv_travel.js"></script>
</body>
</html>
